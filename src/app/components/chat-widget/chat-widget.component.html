<button
  mat-fab
  color="primary"
  class="chat-fab"
  (click)="toggleChat()"
  aria-label="Abrir chat"
>
  <mat-icon *ngIf="!isOpen">chat</mat-icon>
  <mat-icon *ngIf="isOpen">close</mat-icon>
  <ng-container *ngIf="!isOpen && (unreadConversationsCount$ | async) as count">
    <span *ngIf="count > 0" class="chat-unread-badge">
      {{ count }}
    </span>
  </ng-container>
</button>

<div class="chat-widget-container" *ngIf="isOpen">
  <app-chat></app-chat>
</div>
